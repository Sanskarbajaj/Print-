import subprocess
import re

def get_jdk_version(project_directory):
    try:
        # Run the Gradle properties command and capture the output
        result = subprocess.run(["./gradlew", "properties"], capture_output=True, text=True, check=True, cwd=project_directory)

        # Extract JDK version using regular expressions
        jdk_version_match = re.search(r'Java version: (.+)', result.stdout)

        if jdk_version_match:
            # Return the JDK version
            return jdk_version_match.group(1)
        else:
            return "JDK version not found in the output."

    except subprocess.CalledProcessError as e:
        # Handle command execution errors
        return f"Error: {e.stderr}"

# Example usage:
project_directory = "/path/to/your/project"
jdk_version = get_jdk_version(project_directory)
print(f"JDK Version: {jdk_version}")
